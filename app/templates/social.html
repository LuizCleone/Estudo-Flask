<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Banco Social — Henrique Jorge</title>

  <!-- Font Awesome -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />

  <!-- CSS local -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/banco_social.css') }}">
</head>

<body>
  <!-- NAVBAR -->
  <header id="navbar">
    <div class="image">
      <img src="{{ url_for('static', filename='img/logotitle.png') }}" alt="Logo do bairro">
      <h1 id="logo">Bairro Henrique Jorge</h1>
    </div>
    <nav id="navbar-items">
      <ul>
        <li><a href="{{ url_for('welcome') }}"><i class="fa-solid fa-arrow-left"></i> Voltar</a></li>
      </ul>
    </nav>
  </header>

  <main class="grid-cards">
    <!-- SALDO -->
    <div class="card saldo">
      <h2><i class="fa-solid fa-wallet"></i> Saldo</h2>
      <p>Seu saldo atual:</p>
      <h3 class="valor">R$ {{ "%.2f"|format(user.saldo if user else 0) }}</h3>
      <button><i class="fa-solid fa-rotate"></i> Atualizar Saldo</button>
    </div>

    <!-- ADICIONAR CRÉDITOS -->
    <div class="card adicionar">
      <h2><i class="fa-solid fa-circle-plus"></i> Adicionar Créditos</h2>
      <p>Insira créditos sociais na sua conta.</p>
      <form method="POST">
        <input type="hidden" name="acao" value="adicionar">
        <input type="number" name="quantidade" placeholder="Valor em HC" required>
        <input type="text" name="descricao" placeholder="Descrição (opcional)">
        <button type="submit"><i class="fa-solid fa-check"></i> Adicionar</button>
      </form>
    </div>

    <!-- TRANSFERÊNCIAS -->
    <div class="card transferencia">
      <h2><i class="fa-solid fa-right-left"></i> Transferências</h2>
      <form method="POST">
        <input type="hidden" name="acao" value="transferir">
        <select name="destinatario" required>
          <option value="">Selecione um destinatário</option>
          {% for d in destinatarios %}
            <option value="{{ d.id }}">{{ d.nome }} {{ d.sobrenome or '' }}</option>
          {% endfor %}
        </select>
        <input type="number" name="valor" placeholder="Valor" required>
        <input type="text" name="descricao" placeholder="Descrição (ex: ajuda, compra, doação)">
        <button type="submit"><i class="fa-solid fa-paper-plane"></i> Transferir</button>
      </form>
    </div>

    <!-- RECARGA CELULAR -->
    <div class="card recarga">
      <h2><i class="fa-solid fa-mobile-screen-button"></i> Recarga Celular</h2>
      <form method="POST">
        <input type="hidden" name="acao" value="recarga">
        <input type="text" name="numero" placeholder="Número do celular" required>
        <input type="number" name="valor" placeholder="Valor da recarga" required>
        <input type="text" name="descricao" placeholder="Descrição (ex: Recarga Vivo)">
        <button type="submit"><i class="fa-solid fa-bolt"></i> Fazer Recarga</button>
      </form>
    </div>

    <!-- PAGAMENTO DE BOLETOS -->
    <div class="card boleto">
      <h2><i class="fa-solid fa-barcode"></i> Pagamento de Boletos</h2>
      <form method="POST">
        <input type="hidden" name="acao" value="boleto">
        <input type="text" name="codigo" placeholder="Código de barras" required>
        <input type="number" name="valor" placeholder="Valor do boleto" required>
        <input type="text" name="descricao" placeholder="Descrição (ex: Conta de luz)">
        <button type="submit"><i class="fa-solid fa-money-bill"></i> Pagar Boleto</button>
      </form>
    </div>

    <!-- HISTÓRICO -->
    <div class="card historico">
      <h2><i class="fa-solid fa-clock-rotate-left"></i> Histórico</h2>
      <p>Últimas transações realizadas:</p>
      <ul class="lista-historico">
        {% for t in transacoes[:3] %}
          <li>
            {% if t.remetente_id == user.id %}
              <i class="fa-solid fa-minus text-red"></i>
              - {{ "%.2f"|format(t.valor) }} HC — {{ t.descricao }}
            {% else %}
              <i class="fa-solid fa-plus text-green"></i>
              + {{ "%.2f"|format(t.valor) }} HC — {{ t.descricao }}
            {% endif %}
          </li>
        {% endfor %}
      </ul>
      <button><i class="fa-solid fa-eye"></i> Ver tudo</button>
    </div>

    <!-- EXTRATO -->
    <div class="card extrato">
      <h2><i class="fa-solid fa-file-lines"></i> Extrato</h2>
      <p>Visualize e exporte seu extrato completo de transações.</p>
      <div class="botoes">
        <button type="button" class="btn-principal">
          <i class="fa-solid fa-file-pdf"></i> Exportar PDF
        </button>
        <button type="button" class="btn-secundario">
          <i class="fa-solid fa-file-csv"></i> Exportar CSV
        </button>
      </div>
    </div>
  </main>

  <!-- SOBRE -->
  <section class="sobre">
    <h2 class="section-title">O que é o Banco Social?</h2>
    <p class="section-title">
      O Banco Social Comunitário é um espaço de confiança e colaboração,
      onde cada morador pode oferecer e receber ajuda, trocar serviços e
      circular crédito solidário.
    </p>
  </section>

  <section class="funcionalidades">
    <h2 class="section-title">Como Funciona</h2>
    <div class="cards">
      <div class="card">
        <i class="fa-solid fa-hand-holding-heart fa-2x"></i>
        <h3>Troca Solidária</h3>
        <p>Ofereça serviços e receba créditos sociais por sua contribuição.</p>
      </div>
      <div class="card">
        <i class="fa-solid fa-wallet fa-2x"></i>
        <h3>Carteira Digital</h3>
        <p>Gerencie seu saldo, veja suas transações e envie créditos a amigos.</p>
      </div>
      <div class="card">
        <i class="fa-solid fa-chart-line fa-2x"></i>
        <h3>Economia Local</h3>
        <p>Fortaleça a comunidade, apoiando quem está ao seu redor.</p>
      </div>
    </div>
  </section>
  <!-- FOOTER -->
  <footer>
    <p>&copy; 2025 Guia do Bairro Henrique Jorge</p>
    <div class="social-links">
        <!-- Conexão com Redes Sociais (Fictícias ou Reais) -->
      <a href="https://facebook.com/paginahenriquejorge" target="_blank" aria-label="Facebook">
        <i class="fab fa-facebook-f"></i>
      </a>
      <a href="https://instagram.com/henriquejorgeoficial" target="_blank" aria-label="Instagram">
        <i class="fab fa-instagram"></i>
      </a>
    </div>
  </footer>
</body>
</html>
